---
title: Cartopy 가중치 차원 불일치
date: 2025-09-22 17:35
category: visualization
tags: [eof, cartopy, weights]
related:
  - src/analysis/process_era5_monthly_eof.py
---

## 상황 요약
- EOF 계산 시 위도 가중치를 DataArray로 생성하다 longitude 좌표 길이와 맞지 않아 ValueError 발생

## 에러 메시지
```
ValueError: conflicting sizes for dimension 'longitude': length 1 on the data but length 280 on coordinate 'longitude'
```

## 원인 진단
- 위도 가중치 배열을 broadcast 하지 않고 [:, None]만 사용해 longitude 차원이 1로 남음

## 해결 절차
1. np.ones로 (lat, lon) 전체를 확장한 2D 가중치 배열을 생성

## 예방 및 메모
- 후속 조치 및 참고 링크를 작성하세요.
